{
  "id": 12,
  "title": "符号链接",
  "lessonContent": "让我们使用一个关于索引节点信息的先前示例：\n\n<pre>\npete@icebox:~$ ls -li\n140 drwxr-xr-x 2 pete pete 6 Jan 20 20:13 Desktop\n141 drwxr-xr-x 2 pete pete 6 Jan 20 20:01 Documents\n</pre>\n\n您可能已经注意到我们一直在忽略 ls 命令中的第三个字段，该字段是链接计数。链接计数是文件具有的硬链接总数，这对您目前没有意义。所以让我们先讨论链接。\n\n<b>符号链接</b>\n\n在 Windows 操作系统中，有一种称为快捷方式的东西，快捷方式只是指向其他文件的别名。如果对原始文件执行某些操作，可能会破坏快捷方式。在 Linux 中，快捷方式的等效物是符号链接（或软链接或符号链接）。符号链接允许我们通过其文件名链接到另一个文件。Linux 中发现的另一种链接类型是硬链接，这实际上是另一个具有到索引节点的链接的文件。让我们从符号链接开始看看我是什么意思。\n\n<pre>\npete@icebox:~/Desktop$ echo 'myfile' > myfile\npete@icebox:~/Desktop$ echo 'myfile2' > myfile2\npete@icebox:~/Desktop$ echo 'myfile3' > myfile3\n\npete@icebox:~/Desktop$ ln -s myfile myfilelink\npete@icebox:~/Desktop$ ls -li\ntotal 12\n  151 -rw-rw-r-- 1 pete pete 7 Jan 21 21:36 myfile\n93401 -rw-rw-r-- 1 pete pete 8 Jan 21 21:36 myfile2\n93402 -rw-rw-r-- 1 pete pete 8 Jan 21 21:36 myfile3\n93403 lrwxrwxrwx 1 pete pete 6 Jan 21 21:39 myfilelink -> myfile\n</pre>\n\n您可以看到我创建了一个名为 myfilelink 的符号链接，指向 myfile。符号链接由 -> 表示。请注意，我得到了一个新的索引节点号，符号链接只是指向文件名的文件。当您修改符号链接时，文件也会被修改。索引节点号对文件系统是唯一的，您不能在单个文件系统中拥有两个相同的索引节点号，这意味着您不能通过其索引节点号引用不同文件系统中的文件。但是，如果您使用符号链接，它们不使用索引节点号，而是使用文件名，因此它们可以跨不同文件系统引用。\n\n<b>硬链接</b>\n\n让我们看一个硬链接的示例：\n\n<pre>\npete@icebox:~/Desktop$ ln myfile2 myhardlink\npete@icebox:~/Desktop$ ls -li\ntotal 16\n  151 -rw-rw-r-- 1 pete pete 7 Jan 21 21:36 myfile\n93401 -rw-rw-r-- 2 pete pete 8 Jan 21 21:36 myfile2\n93402 -rw-rw-r-- 1 pete pete 8 Jan 21 21:36 myfile3\n93403 lrwxrwxrwx 1 pete pete 6 Jan 21 21:39 myfilelink -> myfile\n93401 -rw-rw-r-- 2 pete pete 8 Jan 21 21:36 myhardlink\n</pre>\n\n硬链接只是创建另一个具有指向相同索引节点的链接的文件。因此，如果我修改了 myfile2 或 myhardlink 的内容，则两者都会看到更改，但如果删除了 myfile2，则仍可以通过 myhardlink 访问该文件。这就是 ls 命令中的链接计数起作用的地方。链接计数是索引节点具有的硬链接数，在删除文件时，它将减少该链接计数。只有当所有指向索引节点的硬链接都被删除时，索引节点才会被删除。创建文件时，其链接计数为 1，因为它是指向该索引节点的唯一文件。与符号链接不同，硬链接不跨文件系统，因为索引节点对文件系统是唯一的。\n\n<b>创建符号链接</b>\n\n<pre>\n$ ln -s myfile mylink</pre>\n\n要创建符号链接，您使用带有 -s 的 ln 命令，并指定目标文件，然后是链接名称。\n\n<b>创建硬链接</b>\n\n<pre>\n$ ln somefile somelink</pre>\n\n与创建符号链接类似，只是这次省略了 -s。",
  "exercise": "尝试创建符号链接和硬链接，删除一些并查看发生了什么。",
  "quizQuestion": "用于创建符号链接的命令是什么？",
  "quizAnswer": "ln -s",
  "slug": "symlinks"
}