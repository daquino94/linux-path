{
  "id": 4,
  "title": "netstat",
  "lessonContent": "<b>知名端口</b>\n\n我们已经讨论了通过计算机端口进行数据传输，让我们看一些知名端口。\n\n您可以通过查看文件<b>/etc/services</b>获取知名端口列表：\n\n<pre>\nftp             21/tcp\nssh             22/tcp\nsmtp            25/tcp \ndomain          53/tcp  # DNS\nhttp            80/tcp\nhttps           443/tcp\n..等等..\n</pre>\n\n第一列是服务名称，然后是端口号和它使用的传输层协议。\n\n<b>netstat</b>\n\n一个非常有用的工具，可以获取有关您的网络的详细信息是<b>netstat</b>。Netstat显示各种与网络相关的信息，如网络连接、路由表、有关网络接口的信息等，它是网络工具中的瑞士军刀。我们将主要关注netstat具有的一个功能，即网络连接的状态。在我们看示例之前，让我们首先讨论套接字和端口。套接字是允许程序发送和接收数据的接口，而端口用于标识哪个应用程序应发送或接收数据。套接字地址是IP地址和端口的组合。主机和目的地之间的每个连接都需要一个唯一的套接字。例如，HTTP是在端口80上运行的服务，但是我们可以有许多HTTP连接，为了维护每个连接，每个连接都会创建一个套接字。\n\n<pre>\npete@icebox:~$ netstat -at\nActive Internet connections (servers and established)\nProto Recv-Q Send-Q Local Address           Foreign Address         State      \ntcp        0      0 icebox:domain           *:*                     LISTEN     \ntcp        0      0 localhost:ipp           *:*                     LISTEN     \ntcp        0      0 icebox.lan:44468        124.28.28.50:http       TIME_WAIT  \ntcp        0      0 icebox.lan:34751        124.28.29.50:http       TIME_WAIT  \ntcp        0      0 icebox.lan:34604        economy.canonical.:http TIME_WAIT  \ntcp6       0      0 ip6-localhost:ipp       [::]:*                  LISTEN     \ntcp6       1      0 ip6-localhost:35094     ip6-localhost:ipp       CLOSE_WAIT \ntcp6       0      0 ip6-localhost:ipp       ip6-localhost:35094     FIN_WAIT2\n</pre>\n\nnetstat -a命令显示网络连接的监听和非监听套接字，-t标志仅显示tcp连接。\n\n从左到右，列如下：\n\n<ul>\n<li>Proto：使用的协议，TCP或UDP。</li>\n<li>Recv-Q：等待接收的数据</li>\n<li>Send-Q：等待发送的数据</li>\n<li>Local Address：本地连接的主机</li>\n<li>Foreign Address：远程连接的主机</li>\n<li>State：套接字的状态</li>\n</ul>\n\n查看套接字状态的手册页，但这里有一些状态：\n\n<ul>\n<li>LISTENING：套接字正在等待传入连接，记住当我们建立TCP连接时，我们的目的地必须在我们连接之前监听我们。</li>\n<li>SYN_SENT：套接字正在积极尝试建立连接。</li>\n<li>ESTABLISHED：套接字已建立连接</li>\n<li>CLOSE_WAIT：远程主机已关闭，我们正在等待套接字关闭</li>\n<li>TIME_WAIT：套接字在关闭后等待处理仍在网络中的数据包</li>\n </ul>",
  "exercise": "查看netstat的手册页，了解其提供的所有功能。",
  "quizQuestion": "HTTPS使用哪个端口？",
  "quizAnswer": "443",
  "slug": "netstat"
}