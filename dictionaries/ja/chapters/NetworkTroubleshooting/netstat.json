{
  "id": 4,
  "title": "netstat",
  "lessonContent": "<b>Well Known Ports</b>\n\nマシン上のポートを介したデータ転送について説明しましたが、いくつかのよく知られたポートを見てみましょう。\n\n<b>/etc/services</b> ファイルを見ることでよく知られたポートのリストを取得できます：\n\n<pre>\nftp             21/tcp\nssh             22/tcp\nsmtp            25/tcp \ndomain          53/tcp  # DNS\nhttp            80/tcp\nhttps           443/tcp\n..etc..\n</pre>\n\n最初の列はサービスの名前で、次にポート番号と使用されるトランスポート層プロトコルが表示されます。\n\n<b>netstat</b>\n\nネットワークに関する詳細な情報を取得するための非常に便利なツールは <b>netstat</b> です。Netstat は、ネットワーク接続、ルーティングテーブル、ネットワークインターフェースに関する情報など、さまざまなネットワーク関連情報を表示します。ネットワークツールのスイスアーミーナイフです。netstat が持つ主な機能の1つであるネットワーク接続の状態に焦点を当てます。例を見る前に、まずソケットとポートについて話しましょう。ソケットはプログラムがデータの送受信を行うためのインターフェースであり、ポートはどのアプリケーションがデータの送受信を行うかを識別するために使用されます。ソケットアドレスは IP アドレスとポートの組み合わせです。ホストと宛先の間のすべての接続にはユニークなソケットが必要です。たとえば、HTTP はポート 80 で実行されるサービスですが、多くの HTTP 接続が可能であり、それぞれの接続を維持するために接続ごとにソケットが作成されます。\n\n<pre>\npete@icebox:~$ netstat -at\nActive Internet connections (servers and established)\nProto Recv-Q Send-Q Local Address           Foreign Address         State      \ntcp        0      0 icebox:domain           *:*                     LISTEN     \ntcp        0      0 localhost:ipp           *:*                     LISTEN     \ntcp        0      0 icebox.lan:44468        124.28.28.50:http       TIME_WAIT  \ntcp        0      0 icebox.lan:34751        124.28.29.50:http       TIME_WAIT  \ntcp        0      0 icebox.lan:34604        economy.canonical.:http TIME_WAIT  \ntcp6       0      0 ip6-localhost:ipp       [::]:*                  LISTEN     \ntcp6       1      0 ip6-localhost:35094     ip6-localhost:ipp       CLOSE_WAIT \ntcp6       0      0 ip6-localhost:ipp       ip6-localhost:35094     FIN_WAIT2\n</pre>\n\nnetstat -a コマンドはネットワーク接続のリスニングおよび非リスニングソケットを表示し、-t フラグは TCP 接続のみを表示します。\n\n左から右への列は次のとおりです：\n\n<ul>\n<li>Proto: 使用されているプロトコル、TCP または UDP。</li>\n<li>Recv-Q: 受信待ちのデータ</li>\n<li>Send-Q: 送信待ちのデータ</li>\n<li>Local Address: ローカルに接続されたホスト</li>\n<li>Foreign Address: リモートに接続されたホスト</li>\n<li>State: ソケットの状態</li>\n</ul>\n\nソケットの状態のリストについては man ページを参照してくださいが、いくつかの状態を以下に示します：\n\n<ul>\n<li>LISTENING: ソケットは着信接続を待機しています。TCP 接続を確立する前に、接続先が私たちを待機している必要があります。</li>\n<li>SYN_SENT: ソケットは接続を確立しようとしています。</li>\n<li>ESTABLISHED: ソケットには確立された接続があります</li>\n<li>CLOSE_WAIT: リモートホストがシャットダウンし、私たちはソケットが閉じるのを待っています</li>\n<li>TIME_WAIT: ネットワーク内にまだ存在するパケットを処理するために、ソケットは閉じた後に待機しています</li>\n </ul>",
  "exercise": "netstat の man ページを参照して、提供されているすべての機能を学んでください。",
  "quizQuestion": "HTTPS に使用されるポートは何番ですか？",
  "quizAnswer": "443",
  "slug": "netstat"
}